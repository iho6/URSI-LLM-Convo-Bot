"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _iterableToArrayLimit(b,c){var d=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=d){var g,h,j,k,l=[],a=!0,m=!1;try{if(j=(d=d.call(b)).next,0===c){if(Object(d)!==d)return;a=!1}else for(;!(a=(g=j.call(d)).done)&&(l.push(g.value),l.length!==c);a=!0);}catch(a){m=!0,h=a}finally{try{if(!a&&null!=d["return"]&&(k=d["return"](),Object(k)!==k))return}finally{if(m)throw h}}return l}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"==_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!=_typeof(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var jsPsychExtensionTouchscreenButtons=function(){"use strict";function a(a){// Turns a number (0-255) into a 2-character hex number (00-ff)
return("0"+a.toString(16)).slice(-2)}function b(a){var b=document.createElement("canvas");b.height=1,b.width=1;var c=b.getContext("2d");return c.fillStyle=a,c.fillRect(0,0,1,1),c.getImageData(0,0,1,1).data}function d(b){// Convert any CSS color to a hex representation
// Examples:
// colorToHex('red')            # '#ff0000'
// colorToHex('rgb(255, 0, 0)') # '#ff0000'
var c;return c=[0,1,2].map(function(c){return a(b[c])}).join(""),"#"+c}var e=/*#__PURE__*/function(){function a(e,f){_classCallCheck(this,a),this.jsPsych=f,this.div=document.createElement("div"),this.key=e&&e.key||"";var g=e&&e.css||"jsTouchButton",h=e.position_x;void 0===h&&(h=50);var i=e.position_y;void 0===i&&(i=10);var j=e.size;void 0===j&&(j=10);var k=e&&e.preset||null,l=null;"bottom_left"===k?l="jsTouchButtonLeftBottom":"top_left"===k?l="jsTouchButtonLeftTop":"bottom_right"===k?l="jsTouchButtonRightBottom":"top_right"===k?l="jsTouchButtonRightTop":"left"===k?l="jsTouchButtonLeft":"right"===k&&(l="jsTouchButtonRight"),this.div.classList.add(g,l);var m="#9999";if(e.color&&(m=e.color,!m.startsWith("#")&&(m=b(m),m=d(m)),4===m.length?m+="9":7===m.length&&(m+="90")),this.div.style.boxShadow="inset 0 0 0 .5vw "+m+", 0 0 0 .5vw "+m,null===l&&(this.div.style.left="string"==typeof h?h:h+"%",this.div.style.bottom="string"==typeof i?i:i+"%",this.div.style.width="string"==typeof j?this.div.style.height=this.div.style.lineHeight=j:this.div.style.height=this.div.style.lineHeight=j+"vw"),e.innerText&&(this.div.innerText=e.innerText),e.style)for(var n in e.style)this.div.style[n]=e.style[n]}return _createClass(a,[{key:"start_listener",value:function start_listener(){this.jsPsych.pluginAPI.keyDown(this.key)}},{key:"end_listener",value:function end_listener(){this.jsPsych.pluginAPI.keyUp(this.key)}}]),a}(),f=/*#__PURE__*/function(){function a(b){_classCallCheck(this,a),this.jsPsych=b}return _createClass(a,[{key:"initialize",value:function initialize(a){var b=this;return new Promise(function(c){b.layouts={};for(var d=function _loop(){var a=_slicedToArray(g[f],2),c=a[0],d=a[1];b.layouts[c]=[],d.forEach(function(a){return b.layouts[c].push(new e(a,b.jsPsych))})},f=0,g=Object.entries(a);f<g.length;f++)d();c()})}},{key:"on_start",value:function on_start(a){}},{key:"on_load",value:function on_load(a){var b=this.jsPsych.getDisplayElement(),c=Object.keys(this.layouts)[0];a&&(c=a.layout);var d=this.layouts[c];d.forEach(function(a){a.div.addEventListener("touchstart",a.start_listener.bind(a),!1),a.div.addEventListener("touchend",a.end_listener.bind(a),!1),b.appendChild(a.div)})}},{key:"on_finish",value:function on_finish(a){for(var b=0,c=Object.entries(this.layouts);b<c.length;b++){var d=_slicedToArray(c[b],2),e=d[0],f=d[1],g=f;g.forEach(function(a){a.div.ontouchstart=null,a.div.ontouchend=null})}return{data_property:"data_value"}}}]),a}();/**
   * **extension-touchscreen-buttons**
   *
   * Create an overlay of touch buttons to use jsPsych on mobile devices.
   *
   * @author Younes Strittmatter
   */return f.info={name:"touchscreen-buttons"},f}(jsPsychModule);

//# sourceMappingURL=index.browser.min.js.map