var jsPsychSurveyNumber=function(e){"use strict";function t(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function r(e,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,t(s.key),s)}}var a={name:"survey-number",parameters:{questions:{type:e.ParameterType.COMPLEX,array:!0,pretty_name:"Questions",default:void 0,nested:{prompt:{type:e.ParameterType.HTML_STRING,pretty_name:"Prompt",default:void 0},placeholder:{type:e.ParameterType.STRING,pretty_name:"Placeholder",default:""},rows:{type:e.ParameterType.INT,pretty_name:"Rows",default:1},columns:{type:e.ParameterType.INT,pretty_name:"Columns",default:40},required:{type:e.ParameterType.BOOL,pretty_name:"Required",default:!1},name:{type:e.ParameterType.STRING,pretty_name:"Question Name",default:""}}},randomize_question_order:{type:e.ParameterType.BOOL,pretty_name:"Randomize Question Order",default:!1},preamble:{type:e.ParameterType.HTML_STRING,pretty_name:"Preamble",default:null},button_label:{type:e.ParameterType.STRING,pretty_name:"Button label",default:"Continue"},autocomplete:{type:e.ParameterType.BOOL,pretty_name:"Allow autocomplete",default:!1}}},s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsPsych=t}var t,a,s;return t=e,(a=[{key:"trial",value:function(e,t){for(var r=this,a=0;a<t.questions.length;a++)void 0===t.questions[a].rows&&(t.questions[a].rows=1);for(a=0;a<t.questions.length;a++)void 0===t.questions[a].columns&&(t.questions[a].columns=40);for(a=0;a<t.questions.length;a++)void 0===t.questions[a].value&&(t.questions[a].value="");var s="";null!==t.preamble&&(s+='<div id="jspsych-survey-text-preamble" class="jspsych-survey-text-preamble">'+t.preamble+"</div>"),t.autocomplete?s+='<form id="jspsych-survey-text-form">':s+='<form id="jspsych-survey-text-form" autocomplete="off">';var n=[];for(a=0;a<t.questions.length;a++)n.push(a);for(t.randomize_question_order&&(n=this.jsPsych.randomization.shuffle(n)),a=0;a<t.questions.length;a++){var o=t.questions[n[a]],u=n[a];s+='<div id="jspsych-survey-text-'+u+'" class="jspsych-survey-text-question" style="margin: 2em 0em;">',s+='<p class="jspsych-survey-text">'+o.prompt+"</p>";var i=0==a?"autofocus":"",p=o.required?"required":"";1==o.rows?s+='<input type="number" id="input-'+u+'"  name="#jspsych-survey-text-response-'+u+'" data-name="'+o.name+'" size="'+o.columns+'" '+i+" "+p+' placeholder="'+o.placeholder+'"></input>':s+='<textarea id="input-'+u+'" name="#jspsych-survey-text-response-'+u+'" data-name="'+o.name+'" cols="'+o.columns+'" rows="'+o.rows+'" '+i+" "+p+' placeholder="'+o.placeholder+'"></textarea>',s+="</div>"}s+='<input type="submit" id="jspsych-survey-text-next" class="jspsych-btn jspsych-survey-text" value="'+t.button_label+'"></input>',s+="</form>",e.innerHTML=s,e.querySelector("#input-"+n[0]).focus(),e.querySelector("#jspsych-survey-text-form").addEventListener("submit",(function(a){a.preventDefault();for(var s=performance.now(),n=Math.round(s-l),o={},u=0;u<t.questions.length;u++){var i="Q"+u,p=document.querySelector("#jspsych-survey-text-"+u).querySelector("textarea, input"),y=p.value,m=p.attributes["data-name"].value;""==m&&(m=i);var c={};c[m]=y,Object.assign(o,c)}var d={rt:n,response:o};e.innerHTML="",r.jsPsych.finishTrial(d)}));var l=performance.now()}}])&&r(t.prototype,a),s&&r(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();return s.info=a,s}(jsPsychModule);
//# sourceMappingURL=index.browser.min.js.map
