{"code":"import { __awaiter } from \"tslib\";\nimport interact from \"interactjs\";\nimport { ParameterType } from \"jspsych\";\nconst info = {\n    name: \"audio-swipe-response\",\n    parameters: {\n        /** The HTML string to be displayed. */\n        stimulus: {\n            type: ParameterType.HTML_STRING,\n            pretty_name: \"Stimulus\",\n            default: undefined,\n        },\n        /** Array containing the key(s) the subject is allowed to press to respond to the stimulus. */\n        keyboard_choices: {\n            type: ParameterType.KEYS,\n            pretty_name: \"Keyboard Choices\",\n            default: [\"ArrowLeft\", \"ArrowRight\"],\n        },\n        /** Any content here will be displayed below the stimulus. */\n        prompt: {\n            type: ParameterType.HTML_STRING,\n            pretty_name: \"Prompt\",\n            default: null,\n        },\n        /** How long to show trial before it ends. */\n        trial_duration: {\n            type: ParameterType.INT,\n            pretty_name: \"Trial duration\",\n            default: null,\n        },\n        /** If true, trial will end when subject makes a response. */\n        response_ends_trial: {\n            type: ParameterType.BOOL,\n            pretty_name: \"Response ends trial\",\n            default: true,\n        },\n        /** If true, then the trial will end as soon as the audio file finishes playing. */\n        trial_ends_after_audio: {\n            type: ParameterType.BOOL,\n            pretty_name: \"Trial ends after audio\",\n            default: false,\n        },\n        /** If true, then responses are allowed while the audio is playing. If false, then the audio must finish playing before a response is accepted. */\n        response_allowed_while_playing: {\n            type: ParameterType.BOOL,\n            pretty_name: \"Response allowed while playing\",\n            default: true,\n        },\n        /** How far away from the center should the subject have to swipe for a\n         * left/right response to be recorded. */\n        swipe_threshold: {\n            type: ParameterType.INT,\n            pretty_name: \"Swipe translation threshold\",\n            default: 20,\n        },\n        /** The offscreen coordinate for the swipe animation */\n        swipe_offscreen_coordinate: {\n            type: ParameterType.INT,\n            pretty_name: \"Swipe offscreen coordinate\",\n            default: 1000,\n        },\n        /** How much should the swipe animation rotate the stimulus */\n        swipe_animation_max_rotation: {\n            type: ParameterType.INT,\n            pretty_name: \"Swipe animation max rotation\",\n            default: 20,\n        },\n        /** How long should the swipe animation last in milliseconds. Set this to\n         * zero to disable the animation. This will not be included in the reaction\n         * time. */\n        swipe_animation_duration: {\n            type: ParameterType.INT,\n            pretty_name: \"Swipe animation duration (ms)\",\n            default: 250,\n        },\n    },\n};\n/**\n * **audio-swipe-response**\n * jsPsych plugin for playing an audio file and getting a swipe response\n * @author Adam Richie-Halford\n * @see {@link https://www.jspsych.org/plugins/jspsych-audio-swipe-response/ audio-swipe-response plugin documentation on jspsych.org}\n */\nclass AudioSwipeResponsePlugin {\n    constructor(jsPsych) {\n        this.jsPsych = jsPsych;\n    }\n    trial(display_element, trial, on_load) {\n        // hold the .resolve() function from the Promise that ends the trial\n        let trial_complete;\n        // setup stimulus\n        var context = this.jsPsych.pluginAPI.audioContext();\n        // store response\n        let response = {\n            rt: null,\n            key: null,\n            swipe: null,\n            source: null,\n        };\n        // record webaudio context start time\n        var startTime;\n        // load audio file\n        this.jsPsych.pluginAPI\n            .getAudioBuffer(trial.stimulus)\n            .then((buffer) => {\n            if (context !== null) {\n                this.audio = context.createBufferSource();\n                this.audio.buffer = buffer;\n                this.audio.connect(context.destination);\n            }\n            else {\n                this.audio = buffer;\n                this.audio.currentTime = 0;\n            }\n            setupTrial();\n        })\n            .catch((err) => {\n            console.error(`Failed to load audio file \"${trial.stimulus}\". Try checking the file path. We recommend using the preload plugin to load audio files.`);\n            console.error(err);\n        });\n        const setupTrial = () => {\n            // set up end event if trial needs it\n            if (trial.trial_ends_after_audio) {\n                this.audio.addEventListener(\"ended\", end_trial);\n            }\n            // show prompt if there is one\n            if (trial.prompt !== null) {\n                display_element.innerHTML = trial.prompt;\n            }\n            // start audio\n            if (context !== null) {\n                startTime = context.currentTime;\n                this.audio.start(startTime);\n            }\n            else {\n                this.audio.play();\n            }\n            // start keyboard listener when trial starts or sound ends\n            if (trial.response_allowed_while_playing) {\n                setup_keyboard_listener();\n                setup_swipe_listener();\n            }\n            else if (!trial.trial_ends_after_audio) {\n                this.audio.addEventListener(\"ended\", setup_keyboard_listener);\n                this.audio.addEventListener(\"ended\", setup_swipe_listener);\n            }\n            // end trial if time limit is set\n            if (trial.trial_duration !== null) {\n                this.jsPsych.pluginAPI.setTimeout(() => {\n                    end_trial();\n                }, trial.trial_duration);\n            }\n            on_load();\n        };\n        // function to end trial when it is time\n        const end_trial = () => {\n            // kill any remaining setTimeout handlers\n            this.jsPsych.pluginAPI.clearAllTimeouts();\n            // stop the audio file if it is playing\n            // remove end event listeners if they exist\n            if (context !== null) {\n                this.audio.stop();\n            }\n            else {\n                this.audio.pause();\n            }\n            this.audio.removeEventListener(\"ended\", end_trial);\n            this.audio.removeEventListener(\"ended\", setup_keyboard_listener);\n            // kill keyboard listeners\n            this.jsPsych.pluginAPI.cancelAllKeyboardResponses();\n            // kill the swipe interaction\n            interact(display_element).unset();\n            // gather the data to store for the trial\n            const trial_data = {\n                rt: response.rt,\n                stimulus: trial.stimulus,\n                keyboard_response: response.key,\n                swipe_response: response.swipe,\n                response_source: response.source,\n            };\n            // clear the display\n            display_element.innerHTML = \"\";\n            resetPosition();\n            // move on to the next trial\n            this.jsPsych.finishTrial(trial_data);\n            trial_complete();\n        };\n        let position = {\n            x: 0,\n            y: 0,\n            rotation: 0,\n        };\n        const setPosition = (coordinates) => {\n            const { x = 0, y = 0, rotation = 0 } = coordinates;\n            position = { x, y, rotation };\n            display_element.style.transform = `translate3D(${x}px, ${y}px, 0) rotate(${rotation}deg)`;\n        };\n        const resetPosition = () => __awaiter(this, void 0, void 0, function* () {\n            display_element.style.transition = `${trial.swipe_animation_duration / 1000}s ease-in-out, ${trial.swipe_animation_duration / 1000}s ease-in`;\n            setPosition({ x: 0, y: 0, rotation: 0 });\n            display_element.style.transition = null;\n        });\n        const dragMoveListener = (event) => {\n            const x = position.x + event.delta.x;\n            const y = position.y + event.delta.y;\n            let rotation = 0;\n            if (position.x > 0) {\n                rotation = Math.min(trial.swipe_animation_max_rotation, position.x / 4);\n            }\n            else {\n                rotation = Math.max(-trial.swipe_animation_max_rotation, position.x / 4);\n            }\n            setPosition({ x: x, y: y, rotation });\n        };\n        // start time\n        const start_time = performance.now();\n        const sendCardToLeft = () => __awaiter(this, void 0, void 0, function* () {\n            display_element.style.transition = `${trial.swipe_animation_duration / 1000}s ease-in-out, ${trial.swipe_animation_duration / 1000}s ease-in`;\n            setPosition({ x: -trial.swipe_offscreen_coordinate, y: position.y, rotation: 0 });\n        });\n        const sendCardToRight = () => __awaiter(this, void 0, void 0, function* () {\n            display_element.style.transition = `${trial.swipe_animation_duration / 1000}s ease-in-out, ${trial.swipe_animation_duration / 1000}s ease-in`;\n            setPosition({ x: trial.swipe_offscreen_coordinate, y: position.y, rotation: 0 });\n        });\n        // function to handle swipe responses by the subject\n        const after_swipe_response = (left_or_right) => {\n            if (left_or_right !== null) {\n                // measure rt\n                const end_time = performance.now();\n                const rt = Math.round(end_time - start_time);\n                response = {\n                    rt: rt,\n                    key: null,\n                    swipe: left_or_right,\n                    source: \"swipe\",\n                };\n            }\n            if (trial.response_ends_trial) {\n                if (trial.swipe_animation_duration > 0) {\n                    this.jsPsych.pluginAPI.setTimeout(end_trial, trial.swipe_animation_duration);\n                }\n                else {\n                    end_trial();\n                }\n            }\n        };\n        const setup_swipe_listener = () => {\n            interact(display_element).draggable({\n                inertia: false,\n                autoScroll: true,\n                modifiers: [\n                    interact.modifiers.restrictRect({\n                        endOnly: true,\n                    }),\n                ],\n                listeners: {\n                    move: dragMoveListener,\n                    end: () => {\n                        if (position.x < -trial.swipe_threshold) {\n                            sendCardToLeft();\n                            after_swipe_response(\"left\");\n                        }\n                        else if (position.x > trial.swipe_threshold) {\n                            sendCardToRight();\n                            after_swipe_response(\"right\");\n                        }\n                        else {\n                            resetPosition();\n                        }\n                    },\n                },\n            });\n        };\n        // function to handle keyboard responses by the subject\n        const after_keyboard_response = (info) => {\n            // only record the first response\n            if (response.key == null) {\n                response = Object.assign({ source: \"keyboard\", swipe: null }, info);\n            }\n            if (response.key.toLowerCase() == trial.keyboard_choices[0].toLowerCase()) {\n                sendCardToLeft();\n            }\n            else if (response.key.toLowerCase() == trial.keyboard_choices[1].toLowerCase()) {\n                sendCardToRight();\n            }\n            if (trial.response_ends_trial) {\n                if (trial.swipe_animation_duration > 0) {\n                    this.jsPsych.pluginAPI.setTimeout(end_trial, trial.swipe_animation_duration);\n                }\n                else {\n                    end_trial();\n                }\n            }\n        };\n        const setup_keyboard_listener = () => {\n            // start the keyboard response listener\n            if (trial.keyboard_choices != \"NO_KEYS\") {\n                let responseArgs;\n                if (context !== null) {\n                    responseArgs = {\n                        rt_method: \"audio\",\n                        audio_context: context,\n                        audio_context_start_time: startTime,\n                    };\n                }\n                else {\n                    responseArgs = {\n                        rt_method: \"performance\",\n                    };\n                }\n                this.jsPsych.pluginAPI.getKeyboardResponse(Object.assign({ callback_function: after_keyboard_response, valid_responses: trial.keyboard_choices, persist: false, allow_held_key: false }, responseArgs));\n            }\n        };\n        return new Promise((resolve) => {\n            trial_complete = resolve;\n        });\n    }\n    simulate(trial, simulation_mode, simulation_options, load_callback) {\n        if (simulation_mode == \"data-only\") {\n            load_callback();\n            this.simulate_data_only(trial, simulation_options);\n        }\n        if (simulation_mode == \"visual\") {\n            this.simulate_visual(trial, simulation_options, load_callback);\n        }\n    }\n    create_simulation_data(trial, simulation_options) {\n        const keyboard_data = {\n            stimulus: trial.stimulus,\n            rt: this.jsPsych.randomization.sampleExGaussian(500, 50, 1 / 150, true),\n            keyboard_response: this.jsPsych.pluginAPI.getValidKey(trial.keyboard_choices),\n            swipe_response: null,\n            response_source: \"keyboard\",\n        };\n        const swipe_data = {\n            stimulus: trial.stimulus,\n            rt: this.jsPsych.randomization.sampleExGaussian(500, 50, 1 / 150, true),\n            swipe_response: Math.random() < 0.5 ? \"left\" : \"right\",\n            keyboard_response: null,\n            response_source: \"swipe\",\n        };\n        const default_data = Math.random() < 0.5 ? keyboard_data : swipe_data;\n        const data = this.jsPsych.pluginAPI.mergeSimulationData(default_data, simulation_options);\n        this.jsPsych.pluginAPI.ensureSimulationDataConsistency(trial, data);\n        return data;\n    }\n    simulate_data_only(trial, simulation_options) {\n        const data = this.create_simulation_data(trial, simulation_options);\n        this.jsPsych.finishTrial(data);\n    }\n    simulate_visual(trial, simulation_options, load_callback) {\n        const data = this.create_simulation_data(trial, simulation_options);\n        const display_element = this.jsPsych.getDisplayElement();\n        const respond = () => {\n            if (data.rt !== null) {\n                if (data.swipe_response !== null) {\n                    const test_stimulus_div = document.getElementById(\"jspsych-audio-swipe-response-stimulus\");\n                    let pageX = trial.swipe_threshold * 5;\n                    if (data.swipe_response === \"left\") {\n                        pageX *= -1;\n                    }\n                    setTimeout(() => {\n                        interact(test_stimulus_div).fire({\n                            type: \"dragstart\",\n                            target: test_stimulus_div,\n                        });\n                        interact(test_stimulus_div).fire({\n                            type: \"dragmove\",\n                            target: test_stimulus_div,\n                            delta: { x: pageX, y: 0 },\n                        });\n                        interact(test_stimulus_div).fire({\n                            type: \"dragend\",\n                            target: test_stimulus_div,\n                            delta: { x: pageX, y: 0 },\n                        });\n                    }, data.rt);\n                }\n                else {\n                    this.jsPsych.pluginAPI.pressKey(data.keyboard_response, data.rt);\n                }\n            }\n        };\n        this.trial(display_element, trial, () => {\n            load_callback();\n            if (!trial.response_allowed_while_playing) {\n                this.audio.addEventListener(\"ended\", respond);\n            }\n            else {\n                respond();\n            }\n        });\n    }\n}\nAudioSwipeResponsePlugin.info = info;\nexport default AudioSwipeResponsePlugin;\n//# sourceMappingURL=index.js.map","references":["/Users/jackie3/Desktop/URSI/jspsych-contrib/node_modules/interactjs/index.d.ts","/Users/jackie3/Desktop/URSI/jspsych-contrib/node_modules/jspsych/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/index.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/jackie3/Desktop/URSI/jspsych-contrib/packages/plugin-audio-swipe-response/node_modules/.cache/rollup-plugin-typescript2/placeholder/index.d.ts","writeByteOrderMark":false,"text":"import { JsPsych, JsPsychPlugin, ParameterType, TrialType } from \"jspsych\";\ndeclare const info: {\n    readonly name: \"audio-swipe-response\";\n    readonly parameters: {\n        /** The HTML string to be displayed. */\n        readonly stimulus: {\n            readonly type: ParameterType.HTML_STRING;\n            readonly pretty_name: \"Stimulus\";\n            readonly default: any;\n        };\n        /** Array containing the key(s) the subject is allowed to press to respond to the stimulus. */\n        readonly keyboard_choices: {\n            readonly type: ParameterType.KEYS;\n            readonly pretty_name: \"Keyboard Choices\";\n            readonly default: readonly [\"ArrowLeft\", \"ArrowRight\"];\n        };\n        /** Any content here will be displayed below the stimulus. */\n        readonly prompt: {\n            readonly type: ParameterType.HTML_STRING;\n            readonly pretty_name: \"Prompt\";\n            readonly default: any;\n        };\n        /** How long to show trial before it ends. */\n        readonly trial_duration: {\n            readonly type: ParameterType.INT;\n            readonly pretty_name: \"Trial duration\";\n            readonly default: any;\n        };\n        /** If true, trial will end when subject makes a response. */\n        readonly response_ends_trial: {\n            readonly type: ParameterType.BOOL;\n            readonly pretty_name: \"Response ends trial\";\n            readonly default: true;\n        };\n        /** If true, then the trial will end as soon as the audio file finishes playing. */\n        readonly trial_ends_after_audio: {\n            readonly type: ParameterType.BOOL;\n            readonly pretty_name: \"Trial ends after audio\";\n            readonly default: false;\n        };\n        /** If true, then responses are allowed while the audio is playing. If false, then the audio must finish playing before a response is accepted. */\n        readonly response_allowed_while_playing: {\n            readonly type: ParameterType.BOOL;\n            readonly pretty_name: \"Response allowed while playing\";\n            readonly default: true;\n        };\n        /** How far away from the center should the subject have to swipe for a\n         * left/right response to be recorded. */\n        readonly swipe_threshold: {\n            readonly type: ParameterType.INT;\n            readonly pretty_name: \"Swipe translation threshold\";\n            readonly default: 20;\n        };\n        /** The offscreen coordinate for the swipe animation */\n        readonly swipe_offscreen_coordinate: {\n            readonly type: ParameterType.INT;\n            readonly pretty_name: \"Swipe offscreen coordinate\";\n            readonly default: 1000;\n        };\n        /** How much should the swipe animation rotate the stimulus */\n        readonly swipe_animation_max_rotation: {\n            readonly type: ParameterType.INT;\n            readonly pretty_name: \"Swipe animation max rotation\";\n            readonly default: 20;\n        };\n        /** How long should the swipe animation last in milliseconds. Set this to\n         * zero to disable the animation. This will not be included in the reaction\n         * time. */\n        readonly swipe_animation_duration: {\n            readonly type: ParameterType.INT;\n            readonly pretty_name: \"Swipe animation duration (ms)\";\n            readonly default: 250;\n        };\n    };\n};\ntype Info = typeof info;\n/**\n * **audio-swipe-response**\n * jsPsych plugin for playing an audio file and getting a swipe response\n * @author Adam Richie-Halford\n * @see {@link https://www.jspsych.org/plugins/jspsych-audio-swipe-response/ audio-swipe-response plugin documentation on jspsych.org}\n */\ndeclare class AudioSwipeResponsePlugin implements JsPsychPlugin<Info> {\n    private jsPsych;\n    static info: {\n        readonly name: \"audio-swipe-response\";\n        readonly parameters: {\n            /** The HTML string to be displayed. */\n            readonly stimulus: {\n                readonly type: ParameterType.HTML_STRING;\n                readonly pretty_name: \"Stimulus\";\n                readonly default: any;\n            };\n            /** Array containing the key(s) the subject is allowed to press to respond to the stimulus. */\n            readonly keyboard_choices: {\n                readonly type: ParameterType.KEYS;\n                readonly pretty_name: \"Keyboard Choices\";\n                readonly default: readonly [\"ArrowLeft\", \"ArrowRight\"];\n            };\n            /** Any content here will be displayed below the stimulus. */\n            readonly prompt: {\n                readonly type: ParameterType.HTML_STRING;\n                readonly pretty_name: \"Prompt\";\n                readonly default: any;\n            };\n            /** How long to show trial before it ends. */\n            readonly trial_duration: {\n                readonly type: ParameterType.INT;\n                readonly pretty_name: \"Trial duration\";\n                readonly default: any;\n            };\n            /** If true, trial will end when subject makes a response. */\n            readonly response_ends_trial: {\n                readonly type: ParameterType.BOOL;\n                readonly pretty_name: \"Response ends trial\";\n                readonly default: true;\n            };\n            /** If true, then the trial will end as soon as the audio file finishes playing. */\n            readonly trial_ends_after_audio: {\n                readonly type: ParameterType.BOOL;\n                readonly pretty_name: \"Trial ends after audio\";\n                readonly default: false;\n            };\n            /** If true, then responses are allowed while the audio is playing. If false, then the audio must finish playing before a response is accepted. */\n            readonly response_allowed_while_playing: {\n                readonly type: ParameterType.BOOL;\n                readonly pretty_name: \"Response allowed while playing\";\n                readonly default: true;\n            };\n            /** How far away from the center should the subject have to swipe for a\n             * left/right response to be recorded. */\n            readonly swipe_threshold: {\n                readonly type: ParameterType.INT;\n                readonly pretty_name: \"Swipe translation threshold\";\n                readonly default: 20;\n            };\n            /** The offscreen coordinate for the swipe animation */\n            readonly swipe_offscreen_coordinate: {\n                readonly type: ParameterType.INT;\n                readonly pretty_name: \"Swipe offscreen coordinate\";\n                readonly default: 1000;\n            };\n            /** How much should the swipe animation rotate the stimulus */\n            readonly swipe_animation_max_rotation: {\n                readonly type: ParameterType.INT;\n                readonly pretty_name: \"Swipe animation max rotation\";\n                readonly default: 20;\n            };\n            /** How long should the swipe animation last in milliseconds. Set this to\n             * zero to disable the animation. This will not be included in the reaction\n             * time. */\n            readonly swipe_animation_duration: {\n                readonly type: ParameterType.INT;\n                readonly pretty_name: \"Swipe animation duration (ms)\";\n                readonly default: 250;\n            };\n        };\n    };\n    private audio;\n    constructor(jsPsych: JsPsych);\n    trial(display_element: HTMLElement, trial: TrialType<Info>, on_load: () => void): Promise<unknown>;\n    simulate(trial: TrialType<Info>, simulation_mode: any, simulation_options: any, load_callback: () => void): void;\n    private create_simulation_data;\n    private simulate_data_only;\n    private simulate_visual;\n}\nexport default AudioSwipeResponsePlugin;\n"}}
